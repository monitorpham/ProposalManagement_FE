<div class="modal-header">
    <h4 class="modal-title pull-left">Update proposal progress</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="onCancel()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <div class="timeline-wrapper">
    <mgl-timeline [toggle]="toggle" [alternate]="alternate">
        <mgl-timeline-entry *ngFor="let entry of entries; let i = index;" (expand)="onExpandEntry($event, i)">
            <mgl-timeline-entry-header (click)="onHeaderClick($event)">
                <div>{{entry.progress}}</div>
            </mgl-timeline-entry-header>
            <mgl-timeline-entry-content [expandAnimationTiming]="contentAnimation ? '200ms ease' : '0ms'"
                [collapseAnimationTiming]="contentAnimation ? '100ms ease' : '0ms'">
                <div>
                    <span *ngIf="entry.time">Date: {{entry.time}} <br></span> 
                    <span *ngIf="entry.time">PerformBy: {{entry.performBy}} <br></span> 
                    <label *ngIf="isCurrentProgress(i)">Note:</label>
                    <textarea *ngIf="isCurrentProgress(i)" class="form-control" [disabled] = "entry.time !== null" [(ngModel)]="entry.note"></textarea>
                    <button *ngIf="isCurrentProgress(i)" style="margin-top: 10px; " class="btn btn-primary" (click)="openCompleteProgressModal(entry)">Complete</button> 
                </div>
            </mgl-timeline-entry-content>
            <mgl-timeline-entry-dot [class]="entry.time ? 'primary' : 'accent'" [size]="size" (click)="onDotClick($event)"
                [expandAnimationTiming]="dotAnimation ? '200ms ease' : '0ms'"
                [collapseAnimationTiming]="dotAnimation ? '100ms ease' : '0ms'"></mgl-timeline-entry-dot>
            <mgl-timeline-entry-side>{{entry.time}}</mgl-timeline-entry-side>
        </mgl-timeline-entry>
    </mgl-timeline>
</div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-outline-primary btn-sm" (click)="onSave()">Save</button>
    <button type="button" class="btn btn-outline-danger btn-sm" (click)="onCancel()">Cancel</button>
</div>